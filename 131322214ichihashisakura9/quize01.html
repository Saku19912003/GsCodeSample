<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel="stylesheet" href="css/sample.css">
  <title>クイズ練習（６個）</title>
</head>
<body>

<header>
    <h1 id="questionNumber">クイズ1</h1>
    <h1 id="totalScore">トータルスコア: 0</h1>
</header>

<main>
  <p id="quest">ここに問題が出題されます</p>
  <p>
    <input type="radio" name="toi" id="choice1" value="1"><label for="choice1" id="n1">選択肢1</label>
    <input type="radio" name="toi" id="choice2" value="2"><label for="choice2" id="n2">選択肢2</label>
    <input type="radio" name="toi" id="choice3" value="3"><label for="choice3" id="n3">選択肢3</label>
  </p>
  <p id="result"></p>
</main>

<footer>フッター</footer>
<script>
  var quizData = [
    {
      question: '質問1:通常の虹にはいくつの色が含まれていますか？',
      choices: ['5色', '6色', '7色'],
      correctAnswer: '2'
    },
    {
      question: '質問2:エッフェル塔の高さはいくつですか？',
      choices: ['276m', '323m', '256m'],
      correctAnswer: '1'
    },
    {
      question: '質問3:地球上で最大の湖はどれですか？',
      choices: ['ビクトリア湖', 'アラル海', 'カスピ海'],
      correctAnswer: '3'
    },
    {
      question: '質問4:月の昼間の表面温度はいくつですか？',
      choices: ['237度', '127度', '321度'],
      correctAnswer: '2'
    },
    {
      question: '質問5:宇宙で最も遠い惑星はどれですか？',
      choices: ['ネプチューン', '冥王星', 'エリス'],
      correctAnswer: '3'
    },
    {
      question: '質問6:日本の国花は何ですか？',
      choices: ['さくら', '菊', 'ひまわり'],
      correctAnswer: '1'
    }
  ];

  var currentQuestionIndex = 0;
  var totalScore = 0;

  function displayQuestion() {
    var currentQuestion = quizData[currentQuestionIndex];
    document.getElementById('quest').innerHTML = currentQuestion.question;
    document.getElementById('n1').innerHTML = currentQuestion.choices[0];
    document.getElementById('n2').innerHTML = currentQuestion.choices[1];
    document.getElementById('n3').innerHTML = currentQuestion.choices[2];
    document.getElementById('result').innerHTML = '';
    document.getElementById('questionNumber').innerHTML = 'クイズ' + (currentQuestionIndex + 1);
  }

  document.querySelectorAll('input[name="toi"]').forEach(function(radio) {
    radio.addEventListener('click', function() {
      var selectedValue = this.value;

      if (selectedValue === quizData[currentQuestionIndex].correctAnswer) {
        document.getElementById('result').innerHTML = '正解！';
        totalScore++;
      } else {
        document.getElementById('result').innerHTML = '不正解…';
      }

      currentQuestionIndex++;

      if (currentQuestionIndex < quizData.length) {
        displayQuestion();
      } else {
        // クイズ終了
        alert('終了！\n正解の数: ' + totalScore);
        document.getElementById('questionNumber').innerHTML = 'クイズ終了';
        document.getElementById('totalScore').innerHTML = 'トータルスコア: ' + totalScore;
      }
    });
  });

  displayQuestion();
</script>
</body>
</html>
